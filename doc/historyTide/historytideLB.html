<!DOCTYPE html>
<html><title>historytide</title>
<script>
function scrol...(){
var scl=document.body.scrollHeight/2+30*14;
window.scrollBy(0,scl);
}
</script>
<body onLoad="scrol()">
<!--(-0+2020)*nianPX(14)+0+18=--><!--canvas的height属性最大只能达到32000；-->



<canvas id="myCanvas2" width="974" height="28298" style="border:0px solid #d3d3d3; margin-top:-4px;">
Your browser does not support the HTML5 canvas tag.
</canvas>


<script>

var c=document.getElementById("myCanvas2");
var ctx=c.getContext("2d");

var canvasW=974;
var dingJiange=0; //顶端间隔 竖线起始位置(Y轴）
var diJiange=18; //底部间隔 竖线起始位置(Y轴）
var jianGe=dingJiange+diJiange;
var Xcor=436; //竖线X坐标的起始位置；
//因最小的字体需要12它，所以下面的定位需要达到12；
var nianPX=14; //一年间隔使用的像素；

var nianYprev=0; //公元前有多少年开始
var nianYnex=2020;//公元前后多少年结束
var nianYprevPx=nianYprev*nianPX; //公元前有多少年及像素；
var nianYnexPx=nianYnex*nianPX; //公元后有多少年及像素；
var Ycor=nianYprevPx+nianYnexPx; //竖线Y坐标的终点位置（长度）；



var nianL=8; //年线段的长度；

var nianL10=20; //10年线段的长度；
var nianL100=30; //100年线段的长度；
var fontsi=nianPX*3;//字体大小
var fontsi10=nianPX*4;
var fontsi100=nianPX*5;

//长竖线
ctx.beginPath();
ctx.moveTo(Xcor,dingJiange);
ctx.lineTo(Xcor,Ycor+diJiange);
ctx.stroke();

//年横线
for(i=dingJiange;i<=Ycor+diJiange;i+=nianPX){
ctx.beginPath();
ctx.moveTo(Xcor,i);
ctx.lineTo(Xcor-nianL,i);
ctx.strokeStyle = "rgba(0, 0, 0, 0.4)";  
ctx.stroke();
}

//5年横线
for(i=dingJiange;i<=Ycor+jianGe;i+=nianPX*5){
ctx.beginPath();
ctx.moveTo(Xcor,i);
ctx.lineTo(Xcor-nianL*1.5,i);
ctx.strokeStyle = "rgba(0, 0, 0, 0.6)";  
ctx.stroke();


}

//10年横线和文本
for(i=dingJiange;i<=Ycor+jianGe;i+=nianPX*10){
ctx.beginPath();
ctx.moveTo(Xcor,i);
ctx.lineTo(Xcor-nianL*2,i);
ctx.strokeStyle = "rgba(0, 0, 0, 0.8)"; 
ctx.stroke();
ctx.textAlign="right";
var varmid=(i-dingJiange)/nianPX;
	if(varmid%100!=0){
	ctx.font="12px 宋体"; //30px 可以写在里面
	// Create gradient
	var gradient=ctx.createLinearGradient(0,0,c.width,0);
	gradient.addColorStop("0","magenta");
	gradient.addColorStop("0.5","blue");
	gradient.addColorStop("1.0","red");
	// Fill with gradient
	ctx.fillStyle=gradient;
	ctx.fillText((i-dingJiange)/nianPX-nianYprev,Xcor-nianL*2,i+6);
	}
}
//100年横线和文本
for(i=dingJiange;i<=Ycor+jianGe;i+=nianPX*100){
ctx.beginPath();
ctx.moveTo(Xcor,i);
ctx.lineTo(Xcor-nianL*3,i);
ctx.strokeStyle = "rgba(0, 0, 0, 0.9)"; 
ctx.stroke();
ctx.textAlign="right";
ctx.font="18px 宋体"; //30px 可以写在里面
// Create gradient
var gradient=ctx.createLinearGradient(0,0,c.width,0);
gradient.addColorStop("0","magenta");
gradient.addColorStop("0.5","blue");
gradient.addColorStop("1.0","red");
// Fill with gradient
ctx.strokeStyle=gradient;
ctx.strokeText((i-dingJiange)/nianPX-nianYprev,Xcor-nianL*3,i+8);

}
function txtL(year0,txt){
	var xc=Xcor-nianL-65; //左边的线条从右边开始到左边结束的位置；
	var xc2=10;//左边文本从左边开始的位置；
	var yp;
	if(year0>=0){
		yp=dingJiange+nianYprevPx+year0*nianPX;
		txt="" + year0 + "年," + txt;
	}else{
		yp=dingJiange+nianYprevPx+year0*nianPX;
		yearp=year0*(-1);
		txt="前" + yearp + "年," + txt;
	}
	ctx.fillStyle="#00f";
	ctx.beginPath();
	ctx.moveTo(Xcor-60,yp);
	ctx.lineTo(xc+xc2-25,yp);
	ctx.stroke();
		
	ctx.font="12px Verdana"; 
	ctx.fillStyle="#000";
	ctx.textAlign="left";
//xc的位置是xc=Xcor+nianL100＝974－436－30＝508，可以容纳46个12px的字符(44*12=535)；


	var txtN;//右边屏幕可容纳字符串个数；
	var txtW=12*1;//手工算出是0.945;txtW是一个字符串的宽度；
	txtN=Math.floor(xc/txtW);	
	

	if(txt.length>txtN){
		var fortime=Math.ceil(txt.length/txtN);//需要循环的次数；
		ctx.fillText(txt.substring(0,txtN),xc2,yp);
		for(i=0;i<fortime;i++){
		yp=yp+14;
			txt=txt.substring(txtN);
			var txt2="        "+txt.substring(0,txtN);
			ctx.fillText(txt2,xc2,yp);
		}
	}else{
	ctx.fillText(txt,xc2,yp);
	}
	

	
}

function txtR(year0,txt){
	var xc=Xcor+nianL100; 
	var yp;

	if(year0>=0){
		yp=dingJiange+nianYprevPx+year0*nianPX;
		txt="" + year0 + "年，" + txt;
	}else{
		yp=dingJiange+nianYprevPx+year0*nianPX;
		yearp=year0*(-1);
		txt="前" + yearp + "年，" + txt;
	}
	ctx.fillStyle="#00f";
	ctx.beginPath();
	ctx.moveTo(Xcor+3,yp);
	ctx.lineTo(xc,yp);
	ctx.stroke();
	
	ctx.font="12px Verdana"; 
	ctx.fillStyle="#000";
	ctx.textAlign="left";
//xc的位置是xc=Xcor+nianL100＝974－436－30＝508，可以容纳46个12px的字符(44*12=535)；	
	var txtN;//右边屏幕可容纳字符串个数；
	var txtW=12*1;//手工算出是0.945;txtW是一个字符串的宽度；
	txtN=Math.floor((canvasW-xc)/txtW);		

	if(txt.length>txtN){
		var fortime=Math.ceil(txt.length/txtN);//需要循环的次数；
		ctx.fillText(txt.substring(0,txtN-4),xc,yp);
		
		for(i=0;i<fortime;i++){
		yp=yp+14;
			txt=txt.substring(txtN-4);
			var txt2="        "+txt.substring(0,txtN-4);
			ctx.fillText(txt2,xc,yp);
		}
		
	}else{
	ctx.fillText(txt,xc,yp);
	}
}



txtR(25,"东汉开始，至220年，历12帝，共196年。因汉光武帝建都洛阳，故称东汉。");
txtR(184,"黄巾起义后，东汉开始失去政权实体，群雄割据纷争，东汉名存实亡。");

txtR(208,"赤壁之战初步奠定了三国鼎立的格局。");
txtR(220,"曹丕废汉献帝，在洛阳称帝建魏，东汉灭亡。此后刘备、孙权先后称帝做王，魏、蜀、吴三国鼎立局面正式形成。");

txtR(265,"晋武帝司马炎取代曹魏政权建立晋，定都洛阳，史称“西晋”。至316这朝代为时仅51年，倘由灭吴始计，则仅37年。（短暂的统一）");
txtR(304,"五胡十六国 (304-589)是指自西晋末年到北魏统一北方期间，曾在中国北部境内建立政权的五个北方民族及其所建立的政权。五胡指匈奴、鲜卑、羯、氐、羌。十六国指前凉、后凉、南凉、西凉、北凉、前赵、后赵、前秦、后秦、西秦、前燕、后燕、南燕、北燕、夏、成汉。此外，还有代国、冉魏、西燕、吐谷浑等都在十六国之外。共有二十国（并列及前后更替）。");

txtR(316,"东晋开始，因少数民族内迁，建都洛阳的晋朝（西晋）亡国，镇守建康的琅琊王司马睿在群臣拥戴下在建康（今南京）即位，即晋元帝，史称东晋。到公元420年被刘裕所建立的宋所取代。");

txtR(420,"南北朝（公元420年―公元589年）是中国历史上的一段分裂时期，公元420年刘裕篡东晋建立南朝宋开始，至公元589年隋灭南朝陈为止。该时期上承东晋、五胡十六国，下接隋朝，南北两势虽然各有朝代更迭，但长期维持对峙，所以称为南北朝。南朝（公元420年―公元589年）包含宋、齐、梁、陈四朝（前后更替关系）；北朝（公元439年―公元589年）则包含北魏、东魏、西魏、北齐和北周五朝。北朝承继五胡十六国，534年，分裂成东魏及西魏，并分别由北齐及北周取代。");
txtR(581,"隋朝（公元581年―618年），在政治上确立了重要的制度――三省六部制，创建了影响深远的科举制度；大隋天子于581年2月甲子日接受北周皇帝禅让，建立了大隋皇朝，隋文帝以大兴城为京师、隋炀帝以洛阳为京师，实行东西两京制：西京长安、东京洛阳。589年，挥师南下，灭了长期割据南方的南朝最后一个朝代――陈朝，统一中国。");
txtR(618,"唐朝（公元618年～907年）。李渊于618年建立唐朝，以长安（今陕西西安）为首都。其鼎盛时期的公元7世纪时，中亚的沙漠地带也受其支配。在690年，武则天改国号“唐”为“周”，迁都洛阳，史称武周，也称“大周”。705年唐中宗李显恢复大唐国号，恢复唐朝旧制，还都长安。唐朝在天宝十四年（755年）安史之乱后日渐衰落，至天v四年（907年）梁王朱温篡位灭亡。唐历经21位皇帝（含武则天），共289年。唐在文化、政治、经济、外交等方面都有辉煌的成就，是当时世界上最强大的国家。");
txtR(907,"五代十国（907-960年）,这一称谓出自《新五代史》，是对五代（907年～960年与十国（891年～979年）的合称。中原相继出现了梁、唐、晋、汉、周五个朝代，史称后梁、后唐、后晋、后汉、后周。同时，在这五朝之外，还相继出现了前蜀、后蜀、吴、南唐、吴越、闽、楚、南汉、南平(即荆南)和北汉十个割据政权，这就是中国历史上的“五代十国”。北汉是十国中惟一在北方的一国，是后汉高祖刘知远的弟弟刘祟所建。");
txtL(907,"辽，国号契丹，916年始建年号，937年（一说947年）改国号为辽，983夏称契丹，1066年仍称辽。始于太祖耶律阿保机，定都上京（今内蒙古巴林左旗南）其疆域东临北海、渤海，西至金山(今阿尔泰山)、流沙(今新疆白龙堆沙漠)，北至克鲁伦河、鄂尔昆河、色楞格河流域，东北迄外兴安岭南麓，南接山西北部、河北白沟河及今甘肃北界。辽代与北宋对峙，是统治中国北部的一个王朝，1125年为金所灭。在太祖,太宗统治时期，阿保机创建奴隶制国家，确定皇权世袭，建立军队，制定法律，修建都城，制造文字，此后继续向外扩张。西打倒甘州回鹘，东灭渤海国，南占燕云十六州。太宗死后，经过世宗,穆宗,景宗，一再发生争夺皇权战争。982年圣宗继位，实行一系列改革，多方面削弱奴隶制，确立封建制的统治。其间他带兵南侵，与宋订立澶渊之盟，两国各守旧界，此后不再有大的战事。圣宗在位半个世纪，是辽朝的全盛时期。到兴宗,道宗时期皇室内部政变频繁，各族人民反抗辽朝的起义连绵不断，辽王朝日见衰败。金政权建立后，接连打败辽王朝，很快取代了辽在东北的统治地位。1125年天祚帝逃往西夏途中，为金兵追获，辽亡。");
txtR(960,"北宋，由宋太祖赵匡胤建立，到公元1127年政权南迁的这段时间，被称为北宋，定都开封。北宋王朝的建立，结束了自唐末而形成的四分五裂的的局面，使中国又归于统一，但由于与宋同时代的辽、金、西夏等国的强大，使北宋政权一直处于外族的危胁之中。");
txtL(960,"后周政权的都点检赵匡胤在出兵北伐的途中，发动了政变，迫使周恭帝退位，建立了宋王朝，史称“北宋”，这就是著名的“陈桥兵变”。赵匡胤便是宋朝的开国皇帝“宋太祖” 。在当时，除了刚建立起来的宋朝之外，还同时存在着后蜀、南汉、南唐、吴越、北汉等割据势力。于是自宋朝建国伊始，宋太祖赵匡胤便开始了他统一全国的斗争。北宋于公元964年、965年、970年先后消灭了荆湘、后蜀、南汉三地，又于974年击败了势力较为强大的南唐。此后，吴越与福建、漳泉等地的地方势力纷纷“纳土”于宋王朝，使纷乱的时局逐渐结束。");
txtL(1038,"西夏，由党项人于公元1038年至1227年间在中国西部建立的一个封建政权。拓拔思恭占据夏州（今 陕北地区的横山县），建国时便以夏州得名，称“大夏”。又因其在西方，宋人称之为“西夏”。");
txtL(1115,"金（1115-1234）完颜氏，女真勃兴于今黑龙江、松花江流域及长白山地区。1115年1月28日，女真领袖完颜阿骨打称帝建国，国号大金。金朝建国后，展开以辽五京为战略目标的灭辽之战。五京一下，辽朝随即灭亡。金灭辽后，与北宋遂成敌国。金太宗完颜晟即位后，挟灭辽之威，很快席卷而南，于天会五年（公元1127年）灭亡北宋。女真在消灭辽朝和北宋后，统一了包括黄河流域在内的广大北方地区，并与南宋长期对峙。金朝在实行猛安谋克等独特制度的同时，也采纳了内地的很多政治制度。完颜亮在位期间，对南宋发动大规模战争，但以失败告终。金在与南宋、西夏并立期间，迫使西夏臣附、南宋屈辱求和，始终维持其霸主地位。金朝后期，统治集团极其腐朽，各民族起义风起云涌，同时又受到蒙古帝国军队的不断打击，终于亡国。");
txtR(1127,"南宋（1127年―1279年）宋高宗赵构在临安（今杭州）重建宋朝，史称南宋，与金朝东沿淮水（今淮河），西以大散关为界。南宋与西夏、金朝和大理为并存政权。南宋偏安于淮水以南，是中国历史上封建经济发达、古代科技发展、对外开放程度较高，但军事实力较为软弱、政治上较为无能的一个王朝。靖康之难后，徽宗、钦宗二帝被俘，包括皇后，嫔妃，皇子，公主等皇室成员和机要大臣，宫廷女官，宫廷乐师，厨师等都被金人俘虏北上；而此时，徽宗第九子康王赵构，被钦宗派在外任河北兵马大元帅，成为侥幸躲过这场劫难而成为皇室唯一幸存的人，在大臣推举下南京（应天府，今河南省商丘市）登基，后迁都于临安（但南宋统治者实际上并不承认临安为首都，称其为“行在”），恢复宋国号，史称南宋，赵构便是后来的宋高宗。");
txtR(1206,"元朝（公元1206年～1368年，一说1271年建立，定国号为元），又称大元，是中国历史上第一个由少数民族（蒙古族）建立并统治全国的封建王朝。1206年成吉思汗建立蒙古汗国。1271年忽必烈改国号为“大元”，取《易经》中“大哉乾元”之意。1279年统一全国。元朝的疆域空前广阔，今天的新疆、西藏、云南、东北、台湾及南海诸岛，都在元朝统治范围内。1368年被朱元璋建立的明朝灭亡。北迁的元政权退居漠北，仍沿用大元国号，与明朝对峙，史称“北元”。元朝自成吉思汗起历经十五帝163年，自忽必烈定国号起，历十一帝98年。　　1218年蒙古灭西辽，1227年灭西夏，1234年灭金国，1246年招降吐蕃，1253年灭大理，1279年灭南宋，元朝最终统一中国。成吉思汗时，蒙古没有固定的首都。1235年，窝阔台建都和林（今蒙古国境内）。1263年，忽必烈定都上都（今内蒙古多伦县西北）。1272年定都燕京，称为大都（今北京），元朝的统治中心完全向中原转移元朝的疆域空前广阔，今天的新疆、西藏、外蒙古、云南、东北、台湾及南海诸岛，都在元朝统治范围内，还包括西伯利亚大部分（一说东边到白令海）、锡金、不丹、克什米尔东半部、缅甸北部、泰国北部、老挝、朝鲜东北部。领土面积超过2000万平方公里（一说2200万平方公里），是当时世界上最大的国家。");
txtR(1368,"明朝，在正史上是指由朱元璋于公元1368年建立的中国封建王朝。也是中国古代史上最后一个由汉族所建立的统一的封建王朝，至最后一个皇帝朱由检（崇祯十七年，1644）止，共276年；亦有看法认为应延续到永历三十七年（1683）止，共315年。1368年明太祖朱元璋在应天称帝，国号“大明”。同年以“驱逐胡虏，恢复中华”为号召进行北伐，明军攻占元朝首都大都（今北京），元顺帝北逃，元朝灭亡。明初以应天府（今南京）为京师，1421年（永乐十九年），明成祖朱棣迁都顺天府（今北京），南京应天府改为留都。");
txtR(1636,"清朝（1636―1912年）是中国历史上第二个由少数民族建立的统一政权 ，也是中国最后一个封建帝制国家。共有十二帝，国祚267年。616年，建州女真部首领努尔哈赤建立后金。[2-3]   1636年，皇太极改国号为大清。[4] 1644年明末农民将领李自成攻占北京，明朝覆亡。清军趁势入关。六部（吏、户、礼、兵、刑、工）为清朝最高执行机关，各部长官称尚书，副长官称侍郎。清太祖努尔哈赤(1559-1626)、清太宗皇太极(1592-1643)、顺治帝福临1638-1661康熙帝玄烨1654-1722雍正帝胤G1678-1735乾隆帝弘历1711-1796嘉庆帝J琰1760-1820道光帝F宁1820-1850咸丰帝奕}1850-1861同治帝载淳1861-1875光绪帝载1875-1908宣统帝溥仪1908-1912(在位时间)。（咸丰是清代最后一位手中握有实际统治权的皇帝）(同治和光绪同辈，不是亲兄弟，同一个爷，道光；)(溥仪之父载沣，光绪帝之同父异母弟，清摄政王。)（顺治、康熙及最后三位都是幼年登位。）（退位后年数：皇太极8年，乾隆4年）");
txtR(1012,"中华民国。1911年10月10日革命党人发动成功武昌起义，并在随后的两个多月带动中国各地的革命响应。12月29日，清朝原有的22个行省中业已独立的17个省，派出代表，推选刚刚返国的孙中山先生为中华民国临时大总统。1912年1月1日，孙中山宣誓就职，亚洲第一个民主共和国――中华民国正式成立。");

txtR(1492,"哥伦布发现美洲(1492-1502)");
txtR(1666,"英国的牛顿提出万有引力定律");
txtR(1677,"德国的莱布尼兹发明微积分");
txtR(1687,"英国的牛顿提出力学三定律和绝对时间、绝对空间的概念");
txtR(1876,"美国的贝尔发明电话");
txtL(1879,"英国的麦克斯韦出版《电磁通论》，集电磁理论之大成。美国的霍尔发现电流通过金属,在磁场作用下产生横向电动势");

txtR(1879,"美国的爱迪生发明电灯。");
txtR(1903,"美国的莱特兄弟发明飞机");
txtR(1915,"爱因斯坦完成广义相对论");
txtR(1917,"爱因斯坦提出有限无界的宇宙模型");
txtR(1939,"第一次实现电视直播");
txtR(1946,"第一台计算机ENIAC在美问世");
txtR(1957,"苏联发射第一颗人造地球卫星");
txtR(1775,"北美独立战争：1775～1778年为战争的第一阶段，主战场在北部，英军占据优势。为了联合抗英，北美第二次大陆会议于6月14日决定，建立各殖民地联合武装力量即大陆军，任命华盛顿为总司令。10月13日，又决定建立大陆舰队1776年7月4日，大陆会议通过《独立宣言》，宣告美利坚合众国诞生。1779～1781年为战争的第二阶段，主战场转到南部，美军以弱胜强。");
txtR(1861,"美国南北战争：1861年4月～1865年4月，美国南方与北方之间进行的战争。又称美国内战。北方领导战争的是资产阶级。在南方，坚持战争的只是种植场奴隶主，他们进行战争的目的是把奴隶制度扩大到全国，而北方资产阶级的目的在于打败南方，以便恢复全国的统一。19世纪中叶，北部自由劳动制度与南部奴隶制度之间的矛盾发展到不可调和的地步，南部奴隶制度成为美国社会经济发展的主要障碍，南北之间的斗争在西部土地的争夺中表现得最为激烈。");

txtR(0,"");
txtR(0,"");
txtR(0,"");
txtR(0,"");
txtR(0,"");
txtR(0,"");


</script>
</body>
</html>