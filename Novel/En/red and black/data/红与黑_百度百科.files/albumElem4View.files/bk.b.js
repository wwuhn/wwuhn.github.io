var G=baidu.G;(function(){this.FX=function(F,E,H,I,J,D){this.el=A.get(F);this.attributes=E;this.duration=H||0.7;this.transition=(!!I&&I in FX.transitions)?I:"easeInOut";this.callback=J||function(){};this.ctx=D||window;this.units={};this.frame={};this.endAttr={};this.startAttr={}};this.FX.transitions={linear:function(E,D,H,F){return H*E/F+D},easeIn:function(E,D,H,F){return -H*Math.cos(E/F*(Math.PI/2))+H+D},easeOut:function(E,D,H,F){return H*Math.sin(E/F*(Math.PI/2))+D},easeInOut:function(E,D,H,F){return -H/2*(Math.cos(Math.PI*E/F)-1)+D}};this.FX.prototype={start:function(){var D=this;this.getAttributes();this.duration=this.duration*1000;this.time=new Date().getTime();this.animating=true;this.timer=setInterval(function(){var E=new Date().getTime();if(E<(D.time+D.duration)){D.elapsed=E-D.time;D.setCurrentFrame()}else{D.frame=D.endAttr;D.complete()}D.setAttributes()},10)},ease:function(E,D){return FX.transitions[this.transition](this.elapsed,E,D-E,this.duration)},complete:function(){clearInterval(this.timer);this.timer=null;this.animating=false;this.callback.call(this.ctx)},stop:function(){clearInterval(this.timer)},setCurrentFrame:function(){for(attr in this.startAttr){if(this.startAttr[attr] instanceof Array){this.frame[attr]=[];for(var D=0;D<this.startAttr[attr].length;D++){this.frame[attr][D]=this.ease(this.startAttr[attr][D],this.endAttr[attr][D])}}else{this.frame[attr]=this.ease(this.startAttr[attr],this.endAttr[attr])}}},getAttributes:function(){for(var D in this.attributes){switch(D){case"color":case"borderColor":case"border-color":case"backgroundColor":case"background-color":this.startAttr[D]=B(this.attributes[D].from||A.getStyle(this.el,D));this.endAttr[D]=B(this.attributes[D].to);break;case"scrollTop":case"scrollLeft":var H=(this.el==document.body)?(document.documentElement||document.body):this.el;this.startAttr[D]=this.attributes[D].from||H[D];this.endAttr[D]=this.attributes[D].to;break;default:var I;var E=this.attributes[D].to;var F=this.attributes[D].units||"px";if(!!this.attributes[D].from){I=this.attributes[D].from}else{I=parseFloat(A.getStyle(this.el,D))||0;if(F!="px"&&document.defaultView){A.setStyle(this.el,D,(E||1)+F);I=((E||1)/parseFloat(A.getStyle(this.el,D)))*I;A.setStyle(this.el,D,I+F)}}this.units[D]=F;this.endAttr[D]=E;this.startAttr[D]=I;break}}},setAttributes:function(){for(var D in this.frame){switch(D){case"opacity":A.setStyle(this.el,D,this.frame[D]);break;case"scrollLeft":case"scrollTop":var F=(this.el==document.body)?(document.documentElement||document.body):this.el;F[D]=this.frame[D];break;case"color":case"borderColor":case"border-color":case"backgroundColor":case"background-color":var E="rgb("+Math.floor(this.frame[D][0])+","+Math.floor(this.frame[D][1])+","+Math.floor(this.frame[D][2])+")";A.setStyle(this.el,D,E);break;default:A.setStyle(this.el,D,this.frame[D]+this.units[D]);break}}}};var A={get:function(D){return(typeof D=="string")?document.getElementById(D):D},getStyle:function(F,H){H=C(H);var D=document.defaultView;if(D&&D.getComputedStyle){return D.getComputedStyle(F,"")[H]||null}else{if(H=="opacity"){var E=F.filters("alpha").opacity;return isNaN(E)?1:(E?E/100:0)}return F.currentStyle[H]||null}},setStyle:function(D,F,E){if(F=="opacity"){D.style.filter="alpha(opacity="+E*100+")";D.style.opacity=E}else{F=C(F);D.style[F]=E}}};var C=(function(){var D={};return function(J){if(!D[J]){var I=J.split("-"),H=I[0];if(I.length>1){for(var F=1,E=I.length;F<E;F++){H+=I[F].charAt(0).toUpperCase()+I[F].substring(1)}}return D[J]=H}else{return D[J]}}})();var B=(function(){var F=(/^#?(\w{2})(\w{2})(\w{2})$/);var D=(/^#?(\w{1})(\w{1})(\w{1})$/);var E=(/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/);return function(I){var H=I.match(F);if(H&&H.length==4){return[parseInt(H[1],16),parseInt(H[2],16),parseInt(H[3],16)]}H=I.match(E);if(H&&H.length==4){return[parseInt(H[1],10),parseInt(H[2],10),parseInt(H[3],10)]}H=I.match(D);if(H&&H.length==4){return[parseInt(H[1]+H[1],16),parseInt(H[2]+H[2],16),parseInt(H[3]+H[3],16)]}}})()})();baidu.extend(String.prototype,{byteLength:function(){return this.replace(/[^\u0000-\u007f]/g,"\u0061\u0061").length},subByte:function(E,D){if(this.byteLength()<=E){return this}for(var B=Math.floor((E=E-2)/2),A=this.length;B<A;B++){var C=this.substring(0,B);if(C.byteLength()>=E){return C+(D!=undefined?D:"...")}}return this}});if(typeof (HTMLElement)!="undefined"&&!window.opera){HTMLElement.prototype.__defineGetter__("innerText",function(){return this.textContent});HTMLElement.prototype.__defineSetter__("innerText",function(A){this.textContent=A})}baidu.extend(Function.prototype,{createCallback:function(){var A=arguments,B=this;return function(){return B.apply(window,A)}},createDelegate:function(C,B,A){var D=this;return function(){var F=B||arguments;if(A===true){F=Array.prototype.slice.call(arguments,0);F=F.concat(B)}else{if(baidu.lang.isNumber(A)){F=Array.prototype.slice.call(arguments,0);var E=[A,0].concat(B);Array.prototype.splice.apply(F,E)}}return D.apply(C||window,F)}},defer:function(C,E,B,A){var D=this.createDelegate(E,B,A);if(C>0){return setTimeout(D,C)}D();return 0}});baidu.proxy=function(C,A){var B=Array.prototype.slice.call(arguments,1);return function(){C.apply(null,B)}};baidu.more=baidu.more||{};baidu.more.ns=function(E){var F=E.split(".");var B=window;for(var D=0,A=F.length;D<A;D++){var C=F[D];if(C==""){continue}B[C]=(B[C]||{});B=B[C]}};if(!window.console||!console.firebug){var names=["log","debug","info","warn","error","assert","dir","dirxml","group","groupEnd","time","timeEnd","count","trace","profile","profileEnd"];window.console=(typeof window.loadFirebugConsole=="function")?window.loadFirebugConsole():{};for(var i=0;i<names.length;++i){window.console[names[i]]=function(){}}}function nslog_inner(B,D,A){var C=(new Date()).getTime();var E=["http://nsclick.baidu.com/v.gif?pid="+nslog.pid,"url="+encodeURIComponent(B),"type="+D,"t="+C];for(k in A){E.push(k+"="+A[k])}for(k in nslog.log_params){E.push(k+"="+nslog.log_params[k])}nslog.req(E.join("&"))}nslog=function(B,C,A){if(nslog.ie6){nslog.waitinglist.push([B,C,A]);if(!nslog.sending4ie6){nslog.sending4ie6=true;nslog.send4ie6()}}else{nslog_inner(B,C,A)}};nslog.ie6=false;nslog.waitinglist=[];nslog.sending4ie6=false;nslog.send4ie6=function(){if(nslog.waitinglist.length==0){nslog.sending4ie6=false}else{var A=nslog.waitinglist.shift();nslog_inner(A[0],A[1],A[2]);setTimeout(function(){nslog.send4ie6()},100)}};if(/msie (\d+\.\d)/i.test(navigator.userAgent)){var ie=document.documentMode||+RegExp["\x241"];nslog.ie6=ie==6}nslog.pid=103;nslog.log_params={};nslog.set=function(A,B){nslog.log_params[A]=B};nslog.sid=((new Date()).getTime()+"_"+Math.round(Math.random()*2147483637));nslog.stat=function(A){nslog.req("/js/blank.js?func="+A+"&sid="+nslog.sid+"&t="+(new Date()).getTime())};nslog.req=function(A){var C="iknowlog_"+(new Date()).getTime();var B=window[C]=new Image();B.onload=B.onerror=function(){window[C]=null};B.src=A;B=null};function baidumessage(){if(baidu.G("mnum")){baidu.sio.callByBrowser("http://msg.baidu.com/ms?ct=18&cm=3&tn=bmSelfUsrStat&mpn=13227114&un="+baidu.G("login-user-name").innerHTML,function(){if(redmsg){redmsg=redmsg.replace(/\u6211\u7684/g,"");redmsg=redmsg.replace(/\/\d+\)/,")");if(/>0<\/span>/g.test(redmsg)||/\(0\)/g.test(redmsg)){redmsg=redmsg.replace(/\([^\)]+\)/g,"")}baidu.G("mnum").innerHTML="<span class='usrbar-split'>|</span>"+redmsg}})}}baidu.dom.ready(baidumessage);baidu.more.ns("bk");bk.event=bk.event||(function(){var D={};function A(H,I){D[H]=D[H]||[];var F=true;baidu.each(D[H],function(J){if(J===I){F=false}});if(F){D[H].push(I)}}function C(F,H){if(D[F]){baidu.each(D[F],function(I){if(typeof I=="function"){I(H)}})}}function B(I,J){var F=D[I];if(F){var H=F.length;while(H--){if(F[H]===J){F.splice(F[H],1)}}}}function E(F){D[F]=[]}return{on:A,un:B,clear:E,fire:C}})();var g_pop=g_pop||function(){};if(!Array.prototype.push){Array.prototype.push=function(){var B=this.length;for(var A=0;A<arguments.length;A++){this[B+A]=arguments[A]}return this.length}}function G(){var C=new Array();for(var B=0;B<arguments.length;B++){var A=arguments[B];if(typeof A=="string"){A=document.getElementById(A)}if(arguments.length==1){return A}C.push(A)}return C}Function.prototype.bind=function(B){var A=this;return function(){A.apply(B,arguments)}};Function.prototype.bindAsEventListener=function(B){var A=this;return function(C){A.call(B,C||window.event)}};Object.extend=function(A,B){for(property in B){A[property]=B[property]}return A};if(!window.Event){var Event=new Object()}Object.extend(Event,{observers:false,element:function(A){return A.target||A.srcElement},isLeftClick:function(A){return(((A.which)&&(A.which==1))||((A.button)&&(A.button==1)))},pointerX:function(A){return A.pageX||(A.clientX+(document.documentElement.scrollLeft||document.body.scrollLeft))},pointerY:function(A){return A.pageY||(A.clientY+(document.documentElement.scrollTop||document.body.scrollTop))},stop:function(A){if(A.preventDefault){A.preventDefault();A.stopPropagation()}else{A.returnValue=false;A.cancelBubble=true}},findElement:function(C,B){var A=Event.element(C);while(A.parentNode&&(!A.tagName||(A.tagName.toUpperCase()!=B.toUpperCase()))){A=A.parentNode}return A},_observeAndCache:function(D,C,B,A){if(!this.observers){this.observers=[]}if(D.addEventListener){this.observers.push([D,C,B,A]);D.addEventListener(C,B,A)}else{if(D.attachEvent){this.observers.push([D,C,B,A]);D.attachEvent("on"+C,B)}}},unloadCache:function(){if(!Event.observers){return }for(var A=0;A<Event.observers.length;A++){Event.stopObserving.apply(this,Event.observers[A]);Event.observers[A][0]=null}Event.observers=false},observe:function(D,C,B,A){if("string"==typeof D){D=G(D)}A=A||false;if(C=="keypress"&&(navigator.appVersion.match(/Konqueror|Safari|KHTML/)||D.attachEvent)){C="keydown"}this._observeAndCache(D,C,B,A)},stopObserving:function(D,C,B,A){if("string"==typeof D){D=G(D)}A=A||false;if(C=="keypress"&&(navigator.appVersion.match(/Konqueror|Safari|KHTML/)||D.detachEvent)){C="keydown"}if(D.removeEventListener){D.removeEventListener(C,B,A)}else{if(D.detachEvent){D.detachEvent("on"+C,B)}}}});Event.observe(window,"unload",Event.unloadCache,false);var Class=function(){var A=function(){this.initialize.apply(this,arguments)};for(i=0;i<arguments.length;i++){superClass=arguments[i];for(member in superClass.prototype){A.prototype[member]=superClass.prototype[member]}}A.child=function(){return new Class(this)};A.extend=function(B){for(property in B){A.prototype[property]=B[property]}};return A};var Popup=new Class();Popup.prototype={iframeIdName:"ifr_popup",initialize:function(A){this.config=Object.extend({contentType:1,isHaveTitle:true,scrollType:"no",isBackgroundCanClick:false,isSupportDraging:true,isShowShadow:true,isReloadOnClose:true,width:400,isPop:false,height:300},A||{});this.info={shadowWidth:3,title:"",contentUrl:"",contentHtml:"",callBack:null,parameter:null,confirmCon:"",alertCon:"",someHiddenTag:"select,object,embed",someDisabledBtn:"",someHiddenEle:"",overlay:0,coverOpacity:30};this.color={cColor:"#000",bColor:"#FFFFFF",tColor:"#709CD2",wColor:"#FFFFFF"};this.dropClass=null;this.someToHidden=[];this.someToDisabled=[];if(!this.config.isHaveTitle){this.config.isSupportDraging=false}this.iniBuild()},setContent:function(A,B){if(B!=""){switch(A){case"width":this.config.width=B;break;case"height":this.config.height=B;break;case"title":this.info.title=B;break;case"contentUrl":this.info.contentUrl=B;break;case"contentHtml":this.info.contentHtml=B;break;case"callBack":this.info.callBack=B;break;case"parameter":this.info.parameter=B;break;case"confirmCon":this.info.confirmCon=B;break;case"alertCon":this.info.alertCon=B;break;case"someHiddenTag":this.info.someHiddenTag=B;break;case"someHiddenEle":this.info.someHiddenEle=B;break;case"someDisabledBtn":this.info.someDisabledBtn=B;break;case"overlay":this.info.overlay=B}}},iniBuild:function(){var A=G("dialogCase");if(A){document.body.removeChild(A)}A=document.createElement("DIV");A.id="dialogCase";A.style.zIndex=65535;A.style.top=0;A.style.left=0;A.style.position="absolute";A.style.width="100%";document.body.appendChild(A)},build:function(){var B=10001+this.info.overlay*10;var I=B+2;this.iframeIdName="ifr_popup"+this.info.overlay;var K="http://img.baidu.com/hi/img/";var J='<div id="dialogBoxClose" style="width:18px;height:18px;cursor:pointer;margin-bottom:2px;"><div>';var F="filter: alpha(opacity="+this.info.coverOpacity+");opacity:"+this.info.coverOpacity/100+";";var L='<div id="dialogBoxBG" style="position:absolute;top:0px;left:0px;z-index:'+B+";"+F+"background-color:"+this.color.cColor+';display:none;"></div>';var E='<div id="dialogBox" style="border:1px solid #104987;display:none;z-index:'+I+";position:relative;width:"+this.config.width+'px;background:url(\'http://img.baidu.com/img/baike/editor/bgs.gif\') repeat-x scroll 0 -68px #1169B1;padding:1px;"><table width="100%" border="0" cellpadding="0" cellspacing="0" style="background:url(\'http://img.baidu.com/img/baike/editor/bgs.gif\') repeat-x 0 -144px">';if(this.config.isHaveTitle){E+='<tr height="29"><td style="background:url(\'http://img.baidu.com/img/baike/editor/edithelper.gif\') no-repeat right -68px transparent;"><table style="-moz-user-select:none;height:24px;" width="100%" border="0" cellpadding="0" cellspacing="0" ><tr><td width="6" height="24"></td><td id="dialogBoxTitle" style="color:'+this.color.wColor+';font-size:14px;font-weight:bold;">'+this.info.title+'&nbsp;</td><td id="dialogClose" width="18" align="right" valign="middle">'+J+'</td><td width="9"></td></tr></table></td></tr>'}else{E+='<tr height="10"><td align="right">'+J+"</td></tr>"}E+='<tr id="container-tr" style="height:'+(this.config.height-36)+'px" valign="top"><td style="position:relative;padding:1px;"><div style="border:1px solid #FFF;"><div style="background:url(\'http://img.baidu.com/img/baike/editor/bgs.gif\') repeat-x #FFF;height:13px;line-height:13px;font-size:1px;">&nbsp;</div><div id="dialogBody" style="background-color:#FFF;height:'+(this.config.height-46)+"px;width:"+(this.config.width-4)+'px"></div></div></td></tr></table></div><div id="dialogBoxShadow" style="display:none;z-index:'+B+';"></div>';if(!this.config.isBackgroundCanClick){G("dialogCase").innerHTML=L+E;var H=document,D=H.body,C=H.documentElement,A=H.compatMode=="BackCompat"?D:H.documentElement;G("dialogBoxBG").style.height=Math.max(C.scrollHeight,D.scrollHeight,A.clientHeight)+"px";G("dialogBoxBG").style.width=window.screen.width+"px"}else{G("dialogCase").innerHTML=E}Event.observe(G("dialogBoxClose"),"click",this.reset.bindAsEventListener(this),false);if(this.config.isSupportDraging){dropClass=new Dragdrop(this.config.width,this.config.height,this.info.shadowWidth,this.config.isSupportDraging,this.config.contentType);G("dialogBoxTitle").style.cursor="move"}this.lastBuild()},lastBuild:function(){var B='<div style="width:100%;height:100%;text-align:center;"><div style="margin:0 20px 0 20px;padding-top:20px;font-size:14px;line-height:16px;color:#000000;">'+this.info.confirmCon+'</div><div style="margin:20px;"><input id="dialogOk" type="button" value="  确定  "/>&nbsp;<input id="dialogCancel" type="button" value="  取消  "/></div></div>';var E='<div style="width:100%;height:100%;text-align:center;background-color:#fff"><div style="margin:0 20px;font-size:14px;line-height:16px;color:#000000;">'+this.info.alertCon+'</div><div style="margin:20px;"><input id="dialogYES" type="button" value="  确定  "/></div></div>';var A=10001+this.info.overlay*10;var D=A+4;if(this.config.contentType==1){var C="<iframe style='height:"+(this.config.height-46)+"px;width:"+(this.config.width-4)+"px;' name='"+this.iframeIdName+"' id='"+this.iframeIdName+"' src='"+this.info.contentUrl+"' frameborder='0' scrolling='"+this.config.scrollType+"'></iframe>";var F="<div id='iframeBG' style='position:absolute;top:0px;left:0px;width:1px;height:1px;z-index:"+D+";filter: alpha(opacity=00);opacity:0.00;background-color:#ffffff;'><div>";G("dialogBody").innerHTML=C+F}else{if(this.config.contentType==2){G("dialogBody").innerHTML=this.info.contentHtml}else{if(this.config.contentType==3){G("dialogBody").innerHTML=B;Event.observe(G("dialogOk"),"click",this.forCallback.bindAsEventListener(this),false);Event.observe(G("dialogCancel"),"click",this.close.bindAsEventListener(this),false)}else{if(this.config.contentType==4){G("dialogBody").innerHTML=E;Event.observe(G("dialogYES"),"click",this.close.bindAsEventListener(this),false)}}}}},reBuild:function(){G("dialogBody").height=G("dialogBody").clientHeight;this.lastBuild()},show:function(){this.hiddenSome();this.middle();if(this.config.isShowShadow){this.shadow()}},resize:function(C,F,I){this.setContent("width",C);this.setContent("height",F);var H=G("dialogBox");var E=G("dialogBody");H.style["width"]=C+"px";H.style["height"]=F+"px";var D=G(this.iframeIdName);D.style["height"]=F-46+"px";D.style["width"]=C-4+"px";E.style["height"]=F-46+"px";E.style["width"]=C-4+"px";if(I){this.setContent("title",I);var B=G("dialogBoxTitle");B.innerHTML=I+"&nbsp;"}var A=G("container-tr");A.style["height"]=F-36+"px";this.show()},forCallback:function(){return this.info.callBack(this.info.parameter)},shadow:function(){var A=G("dialogBoxShadow");var B=G("dialogBox");A.style["top"]=B.offsetTop+this.info.shadowWidth+10+"px";A.style["left"]=B.offsetLeft+this.info.shadowWidth+6+"px";A.style["width"]=B.offsetWidth-6+"px";A.style["height"]=B.offsetHeight-10+"px";A.style["position"]="absolute";A.style["background"]="#000";A.style["display"]="";A.style["opacity"]="0.1";A.style["filter"]="alpha(opacity=20)"},middle:function(){if(!this.config.isBackgroundCanClick){G("dialogBoxBG").style.display=""}var F=G("dialogBox");F.style["position"]="absolute";F.style["display"]="";var C=(document.documentElement.clientWidth||document.body.clientWidth);var E=(document.documentElement.clientHeight||document.body.clientHeight);var B=(document.documentElement.scrollTop||document.body.scrollTop);var D=(C/2)-(F.offsetWidth/2);var A=(E/2+B)-(F.offsetHeight/2);if(A<B){A=20+B}if(D<1){D=20}F.style["left"]=D+"px";F.style["top"]=A+"px"},reset:function(A){this.close();if(typeof A!=="boolean"){A=false}if(this.config.isReloadOnClose||A){top.location.href=top.location.href.replace(/#.*$/g,"")}},close:function(){G("dialogBox").style.display="none";if(!this.config.isBackgroundCanClick){G("dialogBoxBG").style.display="none"}if(this.config.isShowShadow){G("dialogBoxShadow").style.display="none"}G("dialogBody").innerHTML="";this.showSome()},hiddenSome:function(){var A=this.info.someHiddenTag.split(",");if(A.length==1&&A[0]==""){A.length=0}for(var B=0;B<A.length;B++){this.hiddenTag(A[B])}var C=this.info.someHiddenEle.split(",");if(C.length==1&&C[0]==""){C.length=0}for(var B=0;B<C.length;B++){this.hiddenEle(C[B])}var C=this.info.someDisabledBtn.split(",");if(C.length==1&&C[0]==""){C.length=0}for(var B=0;B<C.length;B++){this.disabledBtn(C[B])}},disabledBtn:function(B){var A=document.getElementById(B);if(typeof (A)!="undefined"&&A!=null&&A.disabled==false){A.disabled=true;this.someToDisabled.push(A)}},hiddenTag:function(B){var C=document.getElementsByTagName(B);if(C!=null){for(var A=0;A<C.length;A++){if(C[A].style.display!="none"&&C[A].style.visibility!="hidden"){C[A].style.visibility="hidden";this.someToHidden.push(C[A])}}}},hiddenEle:function(B){var A=document.getElementById(B);if(typeof (A)!="undefined"&&A!=null){A.style.visibility="hidden";this.someToHidden.push(A)}},showSome:function(){for(var A=0;A<this.someToHidden.length;A++){this.someToHidden[A].style.visibility="visible"}for(var A=0;A<this.someToDisabled.length;A++){this.someToDisabled[A].disabled=false}},replaceIframe:function(A){this.setContent("contentUrl",A);G(this.iframeIdName).src=A}};var Dragdrop=new Class();Dragdrop.prototype={initialize:function(C,B,A,D,E){this.dragData=null;this.dragDataIn=null;this.backData=null;this.width=C;this.height=B;this.shadowWidth=A;this.showShadow=D;this.contentType=E;this.IsDraging=false;this.oObj=G("dialogBox");Event.observe(G("dialogBoxTitle"),"mousedown",this.moveStart.bindAsEventListener(this),false)},moveStart:function(A){this.IsDraging=true;if(this.contentType==1){G("iframeBG").style.display="";G("iframeBG").style.width=this.width+"px";G("iframeBG").style.height=this.height+"px"}Event.observe(document,"mousemove",this.mousemove.bindAsEventListener(this),false);Event.observe(document,"mouseup",this.mouseup.bindAsEventListener(this),false);Event.observe(document,"selectstart",this.returnFalse,false);this.dragData={x:Event.pointerX(A),y:Event.pointerY(A)};this.backData={x:parseInt(this.oObj.style.left),y:parseInt(this.oObj.style.top)};if(document.body.setCapture){document.body.setCapture()}},mousemove:function(A){if(!this.IsDraging){return }var C=Event.pointerX(A)-this.dragData.x+parseInt(this.oObj.style.left);var B=Event.pointerY(A)-this.dragData.y+parseInt(this.oObj.style.top);if(this.dragData.y<parseInt(this.oObj.style.top)){B=B-12}else{if(this.dragData.y>parseInt(this.oObj.style.top)+25){B=B+12}}this.oObj.style.left=C+"px";this.oObj.style.top=B+"px";if(this.showShadow){G("dialogBoxShadow").style.left=C+this.shadowWidth+6+"px";G("dialogBoxShadow").style.top=B+this.shadowWidth+10+"px"}this.dragData={x:Event.pointerX(A),y:Event.pointerY(A)};document.body.style.cursor="move"},mouseup:function(C){if(!this.IsDraging){return }if(this.contentType==1){G("iframeBG").style.display="none"}document.onmousemove=null;document.onmouseup=null;var B=Event.pointerX(C)-(document.documentElement.scrollLeft||document.body.scrollLeft);var A=Event.pointerY(C)-(document.documentElement.scrollTop||document.body.scrollTop);if(B<1||A<1||B>document.body.clientWidth||A>document.body.clientHeight){this.oObj.style.left=this.backData.x+"px";this.oObj.style.top=this.backData.y+"px";if(this.showShadow){G("dialogBoxShadow").style.left=this.backData.x+this.shadowWidth+6+"px";G("dialogBoxShadow").style.top=this.backData.y+this.shadowWidth+10+"px"}}this.IsDraging=false;document.body.style.cursor="";Event.stopObserving(window,"selectstart",this.returnFalse,false);if(document.body.releaseCapture){document.body.releaseCapture()}},returnFalse:function(){return false}};var baikeLoginArgs=[];function userLogin(){switch(arguments.length){case 0:relogin();break;case 1:baikeLoginArgs=[arguments[0]];loginflag.setLoginArr("loginSt",0);loginflag.setLoginArr("loginUrl",arguments[0]);checkIfLogin();break;default:baikeLoginArgs=[arguments[0],arguments[1]];loginflag.setLoginArr("loginSt",1);loginflag.setLoginArr("isDetect",arguments[0]);loginflag.setLoginArr("loginTip",arguments[1]);checkIfLogin();break}nslog(location.href,88,{name:"login"})}function checkReloginResult(){afterLogin()}function afterLogin(){switch(baikeLoginArgs.length){case 0:try{bk.editor.unloadConfirm.clear()}catch(A){}window.location=location.href.replace(/#.*/,"");g_pop.close();break;case 1:window.location=baikeLoginArgs[0];g_pop.close();break;default:g_pop.close();if(loginflag.getLoginArr("isDetect")==3){Detect.detecting()}else{try{cnEdit()}catch(A){if(bk.editor){bk.editor.submiter.submitform()}else{submitform()}}}break}}function relogin(A){g_pop=new Popup({contentType:1,isReloadOnClose:false,width:408,height:345});g_pop.setContent("title","登录到百度百科");g_pop.setContent("contentUrl","/page/userlogin.html"+(A?("?fr="+A):""));g_pop.build();g_pop.show()}var userlogin=userlogin||function(){};userlogin.reg=function(A){var B="/page/userlogin.html?userreg"+(A?("&fr="+A):"");g_pop=new Popup({contentType:1,isReloadOnClose:false,width:408,height:345});g_pop.setContent("title","登录到百度百科");g_pop.setContent("contentUrl",B);g_pop.build();g_pop.show()};var regOkHandler=function(A){g_pop.replaceIframe("/page/regok.html?un="+encodeURIComponent(A));g_pop.resize(538,395)};var offlineTimer;function checkIfLogin(){var B="http://baike.baidu.com/login?s="+Math.random();var A=document.createElement("script");A.setAttribute("type","text/javascript");A.setAttribute("src",B);document.getElementsByTagName("head")[0].appendChild(A);offlineTimer=setTimeout(loginWarn,15000)}function wiki_relogin(){clearTimeout(offlineTimer);if(arguments[0]==1){if(loginflag.getLoginArr("loginSt")==0){loginflag.setLoginArr("loginTip",0);var C=loginflag.getLoginArr("loginUrl");var E=setParamURL(C);if(document.images){var B=new Image();var D=addURLParam("/js/blank.js","id",E);B.src=addURLParam(D,"logTp",0)}relogin(C)}else{relogin(loginflag.getLoginArr("isDetect"),loginflag.getLoginArr("loginTip"))}}else{if(loginflag.getLoginArr("loginSt")==0){window.location=loginflag.getLoginArr("loginUrl")}else{if(loginflag.getLoginArr("isDetect")==3){Detect.detecting()}else{try{cnEdit()}catch(A){if(bk.editor){bk.editor.submiter.submitform()}else{submitform()}}}}}}function loginWarn(){var A='			<br>			<div style="font-size:14px;font-weight:bold;text-align:center;padding:10px 10px">请检查您的网络链接，重新进行提交</div>	';g_pop=new Popup({contentType:2,isReloadOnClose:false,width:350,height:120});g_pop.setContent("title","提示");g_pop.setContent("contentHtml",A);g_pop.build();g_pop.show()}function addURLParam(C,B,A){C+=(C.indexOf("?")==-1?"?":"&");C+=B+"="+A;return C}function setParamURL(B){if(B.indexOf("id=")!=-1){var A=(B.match(/id=\d+/).toString().substr(3));return A}}var loginFlag=function(){};(function loginStatus(){var A=new Array();A.loginTip=0;loginFlag.prototype.setLoginArr=function(B,C){A[B]=C};loginFlag.prototype.getLoginArr=function(B){return A[B]}})();var loginflag=new loginFlag();function getCookie(C){var B="(?:; )?"+C+"=([^;]*);?";var A=new RegExp(B);if(A.test(document.cookie)){return decodeURIComponent(RegExp["$1"])}else{return null}}function setCookie(F,H,B,C,A,E){var D=F+"="+encodeURIComponent(H);if(B){D+="; expires="+B.toGMTString()}if(C){D+="; path="+C}if(A){D+="; domain="+A}if(E){D+="; secure"}document.cookie=D}function setSug(){g_pop=new Popup({contentType:1,isReloadOnClose:false,width:300,height:180});g_pop.setContent("title","设置");g_pop.setContent("contentUrl","/page/suggestion.html");g_pop.build();g_pop.show()}function userlogin(B,A){userlogin.onLoginSuccess=B||userlogin.defalutLoginSuccess;userLogin()}userlogin.defalutLoginSuccess=userlogin.onLoginSuccess=function(){window.location.href=window.location.href.replace(/#.*$/g,"")};userlogin.onLoginFailed=function(){window.location="http://passport.baidu.com/?login&tpl=wk&u="+escape("http://baike.baidu.com/")};userlogin.check=function(D,A,C){function B(F,H,E){if(baidu.trim(F.responseText)=="0"){if(E){E()}else{userlogin(H,C)}return false}if(H){H()}return true}baidu.ajax.get("/api/login/?t="+(new Date()).getTime()+(C?("&fr="+C):""),function(E){B(E,D,A)})};userlogin.api=(function(){var loginConfig={immediate:true,jumpUrl:"http://baike.baidu.com/page/logincallback.html?fr=loginapi",labelName:{password:"密\u3000码："},onSuccess:function(){window.location=location.href.replace(/#.*/,"")},onSystemError:function(){window.location=["http://passport.baidu.com/?login","tpl=wk",("u="+escape("http://baike.baidu.com/"))].join("&")},container_id:"user-login-container"};var loginParams={};function getPassportConfig(){var loginUrl=["http://passport.baidu.com/api/?login","tpl=wk","callback=userlogin.api.init",("time="+new Date().getTime())].join("&");baidu.sio.callByServer(loginUrl)}function setConfig(conf){baidu.object.extend(loginConfig,conf)}function configInit(conf){loginParams=eval(conf);if(loginParams.error_no==1){}else{baidu.sio.callByBrowser(loginParams.jslink,buildLoginPage)}}function buildLoginPage(){bdPass.LoginTemplate.render(loginParams,loginConfig.container_id,loginConfig)}return{get:getPassportConfig,set:setConfig,init:configInit,render:buildLoginPage}})();userlogin.userbarinit=function(){var A=baidu.G("logout");if(A&&(A.className!="goto-index")){A.href="https://passport.baidu.com/?logout&u="+escape(location.href)}};baidu.dom.ready(userlogin.userbarinit);baidu.more.ns("bk.userbar");bk.userbar.check=function(){baidu.ajax.get("/api/login/?t="+(new Date()).getTime(),function(A){bk.userbar.build(A)})};bk.userbar.build=function(req){var user=eval("("+req.responseText+")");var userbarHtml=[];if(user){userbarHtml.push('<strong><a href="http://passport.baidu.com/center" target="_blank" id="login-user-name" class="nslog:80">'+user.name+"</a></strong> "+user.title);if(user.forbid){userbarHtml.push('<span class="red">禁止发表词条</span>')}userbarHtml.push('<span id="mnum" class="nslog-area" data-nslog-type="85"></span><span class="usrbar-split">|</span><span id="my_home_container"><a id="my_home" target="_blank" class="nslog:81" href="http://baike.baidu.com/uc/home">我的百科</a></span><span class="usrbar-split">|</span><a target="_blank" href="http://zhidao.baidu.com/q?ct=24&amp;cm=16&amp;tn=ucframework&amp;fr=wk" class="nslog:84">我的知道</a>');if(user.hasspace=="true"){userbarHtml.push('<span class="usrbar-split">|</span><a target="_blank" href="http://hi.baidu.com/sys/checkuser/'+user.name+'/3" class="nslog:86">我的空间</a>')}userbarHtml.push('<span class="usrbar-split">|</span><a href="http://www.baidu.com" class="nslog:87">百度首页</a> <span class="usrbar-split">|</span> ');userbarHtml.push('<a id="logout" target="_self" href="https://passport.baidu.com/?logout&amp;u=http://baike.baidu.com" nslog:89">退出</a>')}else{userbarHtml.push('<a href="http://www.baidu.com" class="nslog:87">百度首页</a><span class="usrbar-split">|</span><a href="https://passport.baidu.com/?login&amp;tpl=wk" class="nslog:88" onclick="userlogin();return false">登录</a>')}if(user){userbarHtml.push('<div id="nav_extra" style="display:none"><div class="top"><a href="/uc/home" class="nslog:81" target="_blank">我的百科</a></div><div class="body">');if(user.channeladmin){userbarHtml.push('<div><a target="_blank" href="http://baike.baidu.com/channel-admin/" class="nslog:1002">分类管理员</a></div>')}userbarHtml.push('<div><a target="_blank" class="nslog:82" href="http://baike.baidu.com/uc/effort">我的贡献</a></div><div><a target="_blank" class="nslog:83" href="http://baike.baidu.com/uc/draft">草稿箱</a></div><div><a target="_blank" class="nslog:1003" href="http://baike.baidu.com/uc/task">我的任务</a></div><div><a target="_blank" class="nslog:1004" href="http://baike.baidu.com/uc/recommend">为我推荐</a></div></div></div>')}baidu.g("usrbar").innerHTML=userbarHtml.join("");bk.userbar.init();baidumessage();userlogin.userbarinit();if(user){bk.event.fire("bk.event.user.login");new bk.ui.enctip()}};function userbarEvent(){var E,D,B;function A(I,H){I.style.display=B?"none":"block";I.style.left=H+"px"}function F(H){B&&userbarHover(H)}function C(){E=null;D=null;baidu.un(window,"unload",C)}baidu.on(window,"resize",F);baidu.on(document,"click",F);baidu.on(window,"unload",C);return function(I){(I||window.event).cancelBubble=true;E=E||baidu.G("usrbar");D=D||baidu.G("nav_extra");var J=baidu.G("my_home"),K=E.scrollHeight,H=J.offsetLeft;H=H-6;A(D,H);baidu.G("usrbar").scrollWidth;B=!B}}baidu.more.ns("bk.userbar");bk.userbar.init=function(){window.userbarHover=userbarEvent();var A=baidu.G("my_home_container");var B=baidu.G("nav_extra");if(A){baidu.on(A,"mouseover",userbarHover)}if(B){baidu.on(B,"mouseout",function(E){var D=baidu.event.getPageX(E);var H=baidu.event.getPageY(E);var F=baidu.dom.getPosition(B);var C=baidu.q("body",B,"div");var C=C&&C[0];if(C){if(D<F.left+3||D>=F.left+parseInt(baidu.getStyle(B,"width"),10)-3||H<F.top+3||H>=baidu.dom.getPosition(C).top+C.offsetHeight-3){if(B.style.display=="block"){userbarHover(E)}}}})}};var pop={onOk:function(){},onclosed:function(){},onshow:function(){},create:function(){if(!baidu.G("pop-main")){var B=document.createElement("div");B.id="pop-shadow";var C=document.createElement("div");C.id="pop-main";C.style.width="500px";var A=document.createElement("iframe");A.id="pop-shadow-iframe";var D=[,'<div class="p-bg">','<div class="p-top">','<div class="p-title"><div id="pop-close"></div><p id="pop-title">信息提示</p></div>','<div class="p-r1"></div><div class="p-r2"></div>',"</div>",'<div class="p-body"><div class="p-body-inner">','<iframe id="pop-iframe-content" name="pop-iframe-content" width="100%" frameborder="0" scrolling="no" src="about:blank"></iframe>','<div id="pop-text-content"></div>',"</div></div>",'<div class="p-bottom"><div class="p-r3"></div><div class="p-r4"></div><div class="clear"></div></div>','</div><div id="pop-shadow-bg"></div>'];C.innerHTML=D.join("");document.body.insertBefore(A,document.body.firstChild);document.body.insertBefore(C,document.body.firstChild);document.body.insertBefore(B,document.body.firstChild)}},resize:function(B,A,L){var D=baidu.page;var P=D.getScrollTop();var M=D.getWidth()||500;var E=D.getHeight()||500;var O=baidu.G("pop-shadow");var C=baidu.G("pop-shadow-bg");var J=baidu.G("pop-main");var I=baidu.G("pop-shadow-iframe");var N=A||parseInt(J.style.width,10)||500;var F=L||J.offsetHeight||parseInt(J.style.height,10)||500;O.style.width=M+"px";O.style.height=E+"px";O.style.left=O.style.top="0px";I.style.width=(M-20)+"px";I.style.height=(E-20)+"px";I.style.top=I.style.left="5px";var K=(D.getViewWidth()-N)/2;var H=(D.getViewHeight()-F)/2+P;if(K<1){K=P}if(H<1){H="20"}J.style.left=K+"px";J.style.top=H+"px";J.style.width=N+"px";C.style.height=F+"px";if(L&&baidu.G("pop-iframe-content").style.display=="block"){baidu.G("pop-iframe-content").style.height=L+"px"}},hide:function(){pop.onclosed();var A=function(E){E=baidu.G(E);if(E){baidu.hide(E)}};try{A("pop-main");A("pop-shadow");A("pop-shadow-iframe");var D=baidu.G("pop-iframe-content");try{D.src="about:blank"}catch(C){try{D.location="about:blank"}catch(C){}}}catch(B){}baidu.un(window,"resize",pop.resize);baidu.un(document,"onkeydown",pop.keyListener)},keyListener:function(B){B=window.event||B;var A=B.which||B.keyCode;if(27==A){pop.hide()}},config:function(H,A){pop.create();if(H){baidu.G("pop-title").innerHTML=H}pop.onclosed=A.onclosed||function(){};pop.onshow=A.onshow||function(){};var I=baidu.G("pop-iframe-content");var C=baidu.G("pop-text-content");if(A.url){if(A.url!=true){C.innerHTML="";baidu.hide(C);I.style.display="block";try{I.src=A.url}catch(E){try{document.frames["pop-iframe-content"].location=A.url}catch(E){}}}if(A.scrollX){I.style.overflowX=A.scrollX}if(A.scrollY){I.style.overflowY=A.scrollY}if(A.scroll){I.style.overflow=A.scroll}}else{if(A.info){baidu.hide(I);C.style.display="block";C.innerHTML=A.info}}var B=A.width||450;var F=A.height||400;var D=baidu.G("pop-main");D.style.width=B+"px";if(A.url&&I.style.display=="block"){I.style.height=F+"px";I.style.width=(B-30)+"px"}},show:function(B,A){pop.create();pop.config(B,A);baidu.G("pop-close").onclick=pop.hide;baidu.G("pop-main").style.display="block";baidu.G("pop-shadow").style.display="block";baidu.G("pop-shadow-iframe").style.display="block";baidu.G("pop-title").onselectstart=function(){return false};pop.resize();baidu.on(window,"resize",pop.resize);baidu.on(document,"onkeydown",pop.keyListener)}};baidu.more.ns("tools.text");tools.text.cutByWidth=function(A,D,E){if(E){if(!baidu.browser.firefox||baidu.browser.firefox<1){return }}for(var B=A.length-1;B>=0;B--){if(A[B].scrollWidth>D){A[B].innerHTML+="..."}var C=A[B].innerHTML;while(A[B].scrollWidth>D){if(A[B].scrollWidth<8){break}C=C.substr(0,C.length-4)+"...";A[B].innerHTML=C}}};baidu.more.ns("tools.image");tools.image.sizelimit=function(B,H,F,C){if(B.width<=H&&B.height<=F){return }if(B.width>0&&B.height>0){var A=B.width;var E=B.height;var D=Math.min(H/A,F/E);B.style.height="";B.style.width="";B.height=Math.ceil(E*D);B.width=Math.ceil(A*D);if(C){B.style.marginTop=((F-B.height)/2)+"px"}}else{B.style.height="";B.style.width="";B.style.width=H;B.style.height=F}};baidu.more.ns("tools.fixable");tools.fixable=function(D,C){var D=baidu.g(D);if(D){var B=baidu.page.getHeight();if(baidu.ie&&baidu.ie<7){baidu.setStyle(D,"position","absolute");var A=(C.top||baidu.page.getViewHeight());D.style.setExpression("top","eval((document.documentElement||document.body).scrollTop+"+A+") + 'px'");delete C.top}else{baidu.setStyle(D,"position","fixed")}baidu.setStyles(D,C)}};baidu.more.ns("tool.dom");tool.dom.getTopPos=function(B){var A=B.offsetTop;while(B=B.offsetParent){A+=B.offsetTop}B=null;return A};baidu.dom.ready(function(){baidu.on(document,"mousedown",function(H){var L=baidu.event.get(H);var O=L.target;var M=3;var C=false;var F="";var K=true;var N=/nslog:(\d+)/;var A=/nslog-area/;var B=window.location.href;while(O){if(O.nodeType==1){var J=O.className.match(N);if(M>0){B=O.href?O.href:window.location.href;if(K&&J){var E={x:L.pageX,y:L.pageY};var D=O.getAttribute("log-data-detail");if(D){E["log-data-detail"]=D}nslog(B,J[1],E);K=false}if(!C&&O.href){C=true;F=B}}if(C&&A.test(O.className)){var I=O.getAttribute("data-nslog-type");var E={x:L.pageX,y:L.pageY};var D=O.getAttribute("log-data-detail");if(D){E["log-data-detail"]=D}if(I){nslog(F,I,E)}}}M--;O=O.parentNode}O=null;N=null;A=null})});baidu.dom.ready(function(){if(baidu.G("search")){baidu.sio.callByBrowser("/js/sug.js")}});